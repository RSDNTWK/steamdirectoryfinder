// This file is automatically generated.

using System;
using System.Runtime.InteropServices;

namespace Steam4Net
{
    [StructLayout(LayoutKind.Sequential, Pack = 4)]
    public class SteamGameServer004VTable
    {
        public IntPtr LogOn0;
        public IntPtr LogOff1;
        public IntPtr BLoggedOn2;
        public IntPtr BSecure3;
        public IntPtr GetSteamID4;
        public IntPtr SendUserConnectAndAuthenticate5;
        public IntPtr CreateUnauthenticatedUserConnection6;
        public IntPtr SendUserDisconnect7;
        public IntPtr BUpdateUserData8;
        public IntPtr BSetServerType9;
        public IntPtr UpdateStatus10;
        public IntPtr UpdateSpectatorPort11;
        public IntPtr SetGameType12;
        public IntPtr BGetUserAchievementStatus13;
        private IntPtr DTorISteamGameServer00414;
    };

    [InteropHelp.InterfaceVersionAttribute("SteamGameServer004")]
    public class SteamGameServer004 : InteropHelp.NativeWrapper<SteamGameServer004VTable>
    {
        public void LogOn()
        {
            GetFunction<NativeLogOn>(Functions.LogOn0)(ObjectAddress);
        }

        public void LogOff()
        {
            GetFunction<NativeLogOff>(Functions.LogOff1)(ObjectAddress);
        }

        public bool BLoggedOn()
        {
            return GetFunction<NativeBLoggedOn>(Functions.BLoggedOn2)(ObjectAddress);
        }

        public bool BSecure()
        {
            return GetFunction<NativeBSecure>(Functions.BSecure3)(ObjectAddress);
        }

        public CSteamId GetSteamId()
        {
            ulong ret = 0;
            GetFunction<NativeGetSteamId>(Functions.GetSteamID4)(ObjectAddress, ref ret);
            return new CSteamId(ret);
        }

        public bool SendUserConnectAndAuthenticate(CSteamId steamIdUser, uint arg1, byte[] arg2, uint arg3)
        {
            return
                GetFunction<NativeSendUserConnectAndAuthenticateCubu>(Functions.SendUserConnectAndAuthenticate5)(
                    ObjectAddress, steamIdUser.ConvertToUint64(), arg1, arg2, arg3);
        }

        public CSteamId CreateUnauthenticatedUserConnection()
        {
            ulong ret = 0;
            GetFunction<NativeCreateUnauthenticatedUserConnection>(Functions.CreateUnauthenticatedUserConnection6)(
                ObjectAddress, ref ret);
            return new CSteamId(ret);
        }

        public void SendUserDisconnect(CSteamId steamIdUser)
        {
            GetFunction<NativeSendUserDisconnectC>(Functions.SendUserDisconnect7)(ObjectAddress,
                steamIdUser.ConvertToUint64());
        }

        public bool BUpdateUserData(CSteamId steamIdUser, string pchPlayerName, uint uScore)
        {
            return GetFunction<NativeBUpdateUserDataCsu>(Functions.BUpdateUserData8)(ObjectAddress,
                steamIdUser.ConvertToUint64(), pchPlayerName, uScore);
        }

        public bool BSetServerType(int nGameAppId, uint unServerFlags, uint unGameIp, ushort unGamePort,
            ushort usSpectatorPort, ushort usQueryPort, string pchGameDir, string pchVersion, bool bLanMode)
        {
            return GetFunction<NativeBSetServerTypeIuuuuussb>(Functions.BSetServerType9)(ObjectAddress, nGameAppId,
                unServerFlags, unGameIp, unGamePort, usSpectatorPort, usQueryPort, pchGameDir, pchVersion, bLanMode);
        }

        public bool UpdateStatus(int cPlayers, int cPlayersMax, int cBotPlayers, string pchServerName,
            string pSpectatorServerName, string pchMapName)
        {
            return GetFunction<NativeUpdateStatusIiisss>(Functions.UpdateStatus10)(ObjectAddress, cPlayers, cPlayersMax,
                cBotPlayers, pchServerName, pSpectatorServerName, pchMapName);
        }

        public void UpdateSpectatorPort(ushort unSpectatorPort)
        {
            GetFunction<NativeUpdateSpectatorPortU>(Functions.UpdateSpectatorPort11)(ObjectAddress, unSpectatorPort);
        }

        public void SetGameType(string pchGameType)
        {
            GetFunction<NativeSetGameTypeS>(Functions.SetGameType12)(ObjectAddress, pchGameType);
        }

        public bool BGetUserAchievementStatus(CSteamId steamId, string pchAchievementName)
        {
            return GetFunction<NativeBGetUserAchievementStatusCs>(Functions.BGetUserAchievementStatus13)(ObjectAddress,
                steamId.ConvertToUint64(), pchAchievementName);
        }

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeLogOn(IntPtr thisptr);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeLogOff(IntPtr thisptr);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeBLoggedOn(IntPtr thisptr);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeBSecure(IntPtr thisptr);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeGetSteamId(IntPtr thisptr, ref ulong retarg);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeSendUserConnectAndAuthenticateCubu(
            IntPtr thisptr, ulong steamIdUser, uint arg1, byte[] arg2, uint arg3);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeCreateUnauthenticatedUserConnection(IntPtr thisptr, ref ulong retarg);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeSendUserDisconnectC(IntPtr thisptr, ulong steamIdUser);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeBUpdateUserDataCsu(
            IntPtr thisptr, ulong steamIdUser, string pchPlayerName, uint uScore);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeBSetServerTypeIuuuuussb(
            IntPtr thisptr, int nGameAppId, uint unServerFlags, uint unGameIp, ushort unGamePort, ushort usSpectatorPort,
            ushort usQueryPort, string pchGameDir, string pchVersion, [MarshalAs(UnmanagedType.I1)] bool bLanMode);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeUpdateStatusIiisss(
            IntPtr thisptr, int cPlayers, int cPlayersMax, int cBotPlayers, string pchServerName,
            string pSpectatorServerName, string pchMapName);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeUpdateSpectatorPortU(IntPtr thisptr, ushort unSpectatorPort);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeSetGameTypeS(IntPtr thisptr, string pchGameType);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeBGetUserAchievementStatusCs(IntPtr thisptr, ulong steamId, string pchAchievementName
            );
    };
}