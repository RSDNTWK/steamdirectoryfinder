// This file is automatically generated.

using System;
using System.Runtime.InteropServices;

namespace Steam4Net
{
    [StructLayout(LayoutKind.Sequential, Pack = 4)]
    public class SteamOAuth001VTable
    {
        public IntPtr RequestOAuthTokenForApp0;
        public IntPtr GetOAuthTokenForApp1;
        public IntPtr InvalidateOAuthTokenForApp2;
        private IntPtr DTorISteamOAuth0013;
    };

    [InteropHelp.InterfaceVersionAttribute("SteamOAuth001")]
    public class SteamOAuth001 : InteropHelp.NativeWrapper<SteamOAuth001VTable>
    {
        public ulong RequestOAuthTokenForApp(string cszOAuthScope)
        {
            return GetFunction<NativeRequestOAuthTokenForAppS>(Functions.RequestOAuthTokenForApp0)(ObjectAddress,
                cszOAuthScope);
        }

        public bool GetOAuthTokenForApp(byte[] pubBuffer, ref uint puTokenSize)
        {
            return GetFunction<NativeGetOAuthTokenForAppBiu>(Functions.GetOAuthTokenForApp1)(ObjectAddress, pubBuffer,
                pubBuffer.Length, ref puTokenSize);
        }

        public void InvalidateOAuthTokenForApp()
        {
            GetFunction<NativeInvalidateOAuthTokenForApp>(Functions.InvalidateOAuthTokenForApp2)(ObjectAddress);
        }

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate ulong NativeRequestOAuthTokenForAppS(IntPtr thisptr, string cszOAuthScope);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeGetOAuthTokenForAppBiu(
            IntPtr thisptr, byte[] pubBuffer, int cubBuffer, ref uint puTokenSize);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeInvalidateOAuthTokenForApp(IntPtr thisptr);
    };
}