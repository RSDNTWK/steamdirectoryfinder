// This file is automatically generated.

using System;
using System.Runtime.InteropServices;
using System.Text;

namespace Steam4Net
{
    [StructLayout(LayoutKind.Sequential, Pack = 4)]
    public class SteamUser006VTable
    {
        public IntPtr GetHSteamUser0;
        public IntPtr LogOn1;
        public IntPtr LogOff2;
        public IntPtr BLoggedOn3;
        public IntPtr GetSteamID4;
        public IntPtr SetRegistryString5;
        public IntPtr GetRegistryString6;
        public IntPtr SetRegistryInt7;
        public IntPtr GetRegistryInt8;
        public IntPtr InitiateGameConnection9;
        public IntPtr TerminateGameConnection10;
        public IntPtr TrackAppUsageEvent11;
        private IntPtr DTorISteamUser00612;
    };

    [InteropHelp.InterfaceVersionAttribute("SteamUser006")]
    public class SteamUser006 : InteropHelp.NativeWrapper<SteamUser006VTable>
    {
        public int GetHSteamUser()
        {
            return GetFunction<NativeGetHSteamUser>(Functions.GetHSteamUser0)(ObjectAddress);
        }

        public void LogOn(CSteamId steamId)
        {
            GetFunction<NativeLogOnC>(Functions.LogOn1)(ObjectAddress, steamId.ConvertToUint64());
        }

        public void LogOff()
        {
            GetFunction<NativeLogOff>(Functions.LogOff2)(ObjectAddress);
        }

        public bool BLoggedOn()
        {
            return GetFunction<NativeBLoggedOn>(Functions.BLoggedOn3)(ObjectAddress);
        }

        public CSteamId GetSteamId()
        {
            ulong ret = 0;
            GetFunction<NativeGetSteamId>(Functions.GetSteamID4)(ObjectAddress, ref ret);
            return new CSteamId(ret);
        }

        public bool SetRegistryString(ERegistrySubTree eRegistrySubTree, string pchKey, string pchValue)
        {
            return GetFunction<NativeSetRegistryStringEss>(Functions.SetRegistryString5)(ObjectAddress, eRegistrySubTree,
                pchKey, pchValue);
        }

        public bool GetRegistryString(ERegistrySubTree eRegistrySubTree, string pchKey, StringBuilder pchValue)
        {
            return GetFunction<NativeGetRegistryStringEssi>(Functions.GetRegistryString6)(ObjectAddress,
                eRegistrySubTree, pchKey, pchValue, pchValue.Capacity);
        }

        public bool SetRegistryInt(ERegistrySubTree eRegistrySubTree, string pchKey, int iValue)
        {
            return GetFunction<NativeSetRegistryIntEsi>(Functions.SetRegistryInt7)(ObjectAddress, eRegistrySubTree,
                pchKey, iValue);
        }

        public bool GetRegistryInt(ERegistrySubTree eRegistrySubTree, string pchKey, ref int piValue)
        {
            return GetFunction<NativeGetRegistryIntEsi>(Functions.GetRegistryInt8)(ObjectAddress, eRegistrySubTree,
                pchKey, ref piValue);
        }

        public int InitiateGameConnection(byte[] pBlob, CSteamId steamId, CGameId nGameAppId, uint unIpServer,
            ushort usPortServer, bool bSecure)
        {
            return GetFunction<NativeInitiateGameConnectionBiccuub>(Functions.InitiateGameConnection9)(ObjectAddress,
                pBlob, pBlob.Length, steamId.ConvertToUint64(), nGameAppId.ConvertToUint64(), unIpServer, usPortServer,
                bSecure);
        }

        public void TerminateGameConnection(uint unIpServer, ushort usPortServer)
        {
            GetFunction<NativeTerminateGameConnectionUu>(Functions.TerminateGameConnection10)(ObjectAddress, unIpServer,
                usPortServer);
        }

        public void TrackAppUsageEvent(CGameId gameId, EAppUsageEvent eAppUsageEvent, string pchExtraInfo)
        {
            GetFunction<NativeTrackAppUsageEventCes>(Functions.TrackAppUsageEvent11)(ObjectAddress,
                gameId.ConvertToUint64(), eAppUsageEvent, pchExtraInfo);
        }

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate int NativeGetHSteamUser(IntPtr thisptr);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeLogOnC(IntPtr thisptr, ulong steamId);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeLogOff(IntPtr thisptr);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeBLoggedOn(IntPtr thisptr);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeGetSteamId(IntPtr thisptr, ref ulong retarg);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeSetRegistryStringEss(
            IntPtr thisptr, ERegistrySubTree eRegistrySubTree, string pchKey, string pchValue);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeGetRegistryStringEssi(
            IntPtr thisptr, ERegistrySubTree eRegistrySubTree, string pchKey, StringBuilder pchValue, int cbValue);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeSetRegistryIntEsi(
            IntPtr thisptr, ERegistrySubTree eRegistrySubTree, string pchKey, int iValue);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeGetRegistryIntEsi(
            IntPtr thisptr, ERegistrySubTree eRegistrySubTree, string pchKey, ref int piValue);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate int NativeInitiateGameConnectionBiccuub(
            IntPtr thisptr, byte[] pBlob, int cbMaxBlob, ulong steamId, ulong nGameAppId, uint unIpServer,
            ushort usPortServer, [MarshalAs(UnmanagedType.I1)] bool bSecure);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeTerminateGameConnectionUu(IntPtr thisptr, uint unIpServer, ushort usPortServer);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeTrackAppUsageEventCes(
            IntPtr thisptr, ulong gameId, EAppUsageEvent eAppUsageEvent, string pchExtraInfo);
    };
}