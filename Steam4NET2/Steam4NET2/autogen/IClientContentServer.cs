// This file is automatically generated.

using System;
using System.Runtime.InteropServices;

namespace Steam4Net
{
    [StructLayout(LayoutKind.Sequential, Pack = 4)]
    public class ClientContentServerVTable
    {
        public IntPtr GetHSteamUser0;
        public IntPtr GetSteamID1;
        public IntPtr LogOn2;
        public IntPtr LogOff3;
        public IntPtr BLoggedOn4;
        public IntPtr GetLogonState5;
        public IntPtr BConnected6;
        public IntPtr RaiseConnectionPriority7;
        public IntPtr ResetConnectionPriority8;
        public IntPtr SetCellID9;
        public IntPtr SendClientContentAuthRequest10;
        public IntPtr BCheckTicket11;
        private IntPtr DTorIClientContentServer12;
    };

    [InteropHelp.InterfaceVersionAttribute("CLIENTCONTENTSERVER_INTERFACE_VERSION001")]
    public class ClientContentServer : InteropHelp.NativeWrapper<ClientContentServerVTable>
    {
        public int GetHSteamUser()
        {
            return GetFunction<NativeGetHSteamUser>(Functions.GetHSteamUser0)(ObjectAddress);
        }

        public CSteamId GetSteamId()
        {
            ulong ret = 0;
            GetFunction<NativeGetSteamId>(Functions.GetSteamID1)(ObjectAddress, ref ret);
            return new CSteamId(ret);
        }

        public void LogOn(uint uContentServerId)
        {
            GetFunction<NativeLogOnU>(Functions.LogOn2)(ObjectAddress, uContentServerId);
        }

        public void LogOff()
        {
            GetFunction<NativeLogOff>(Functions.LogOff3)(ObjectAddress);
        }

        public bool BLoggedOn()
        {
            return GetFunction<NativeBLoggedOn>(Functions.BLoggedOn4)(ObjectAddress);
        }

        public ELogonState GetLogonState()
        {
            return GetFunction<NativeGetLogonState>(Functions.GetLogonState5)(ObjectAddress);
        }

        public bool BConnected()
        {
            return GetFunction<NativeBConnected>(Functions.BConnected6)(ObjectAddress);
        }

        public int RaiseConnectionPriority(EConnectionPriority eConnectionPriority)
        {
            return GetFunction<NativeRaiseConnectionPriorityE>(Functions.RaiseConnectionPriority7)(ObjectAddress,
                eConnectionPriority);
        }

        public void ResetConnectionPriority(int hRaiseConnectionPriorityPrev)
        {
            GetFunction<NativeResetConnectionPriorityI>(Functions.ResetConnectionPriority8)(ObjectAddress,
                hRaiseConnectionPriorityPrev);
        }

        public void SetCellId(uint cellId)
        {
            GetFunction<NativeSetCellIdu>(Functions.SetCellID9)(ObjectAddress, cellId);
        }

        public bool SendClientContentAuthRequest(CSteamId steamId, uint unContentId, bool bUseToken,
            ulong ulSessionToken, bool bTokenPresent)
        {
            return
                GetFunction<NativeSendClientContentAuthRequestCubub>(Functions.SendClientContentAuthRequest10)(
                    ObjectAddress, steamId.ConvertToUint64(), unContentId, bUseToken, ulSessionToken, bTokenPresent);
        }

        public bool BCheckTicket(CSteamId steamId, uint uContentId, byte[] pvTicketData)
        {
            return GetFunction<NativeBCheckTicketCubu>(Functions.BCheckTicket11)(ObjectAddress,
                steamId.ConvertToUint64(), uContentId, pvTicketData, (uint)pvTicketData.Length);
        }

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate int NativeGetHSteamUser(IntPtr thisptr);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeGetSteamId(IntPtr thisptr, ref ulong retarg);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeLogOnU(IntPtr thisptr, uint uContentServerId);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeLogOff(IntPtr thisptr);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeBLoggedOn(IntPtr thisptr);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate ELogonState NativeGetLogonState(IntPtr thisptr);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeBConnected(IntPtr thisptr);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate int NativeRaiseConnectionPriorityE(IntPtr thisptr, EConnectionPriority eConnectionPriority);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeResetConnectionPriorityI(IntPtr thisptr, int hRaiseConnectionPriorityPrev);

        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate void NativeSetCellIdu(IntPtr thisptr, uint cellId);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeSendClientContentAuthRequestCubub(
            IntPtr thisptr, ulong steamId, uint unContentId, [MarshalAs(UnmanagedType.I1)] bool bUseToken,
            ulong ulSessionToken, [MarshalAs(UnmanagedType.I1)] bool bTokenPresent);

        [return: MarshalAs(UnmanagedType.I1)]
        [UnmanagedFunctionPointer(CallingConvention.ThisCall)]
        private delegate bool NativeBCheckTicketCubu(
            IntPtr thisptr, ulong steamId, uint uContentId, byte[] pvTicketData, uint cubTicketLength);
    };
}